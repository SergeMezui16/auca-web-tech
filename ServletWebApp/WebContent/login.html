<!DOCTYPE html>
<html lang="en">

<head>
	<title>Login Page</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css"
		integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
	<link rel="stylesheet" href="./style/index.css" />
	<link rel="stylesheet" href="./style/login.css" />
	<script src="./script.js"></script>
</head>

<body>
	<div class="center-box">
		<div class="login-box">
			<h2>Login</h2>
			<p class="text-muted text-small">Enter your credentials to get logged.</p>
			<form action="login" method="post" class="form">
				<div class="form-control">
					<label for="username">User Name:</label>
					<input type="text" id="username" name="username" required>
				</div>
				<div class="form-control">
					<label for="password">Password:</label>
					<input type="password" id="password" name="password" required>
				</div>
				<div class="">
					<button type="submit" class="btn btn-primary w-full">Login</button>
				</div>
				<a href="/ServletWebApp/register" class="w-full btn btn-secondary">Don't have an account? Sign up</a>
				<hr>
			</form>
			<button class="w-full btn" id="modal-btn">Forget password !</button>
		</div>
	</div>


	<div class="modal-box" style="display: none;" id="modal">
		<div class="modal">
			<h1>Forget password ?</h1>
			<hr><br>
			<p>Here is your password: <strong><kbd id="field"></kbd></strong></p>
			<br>
			<button id="modal-close" class="btn w-full">Close!</button>
		</div>
	</div>
	<script>
		const trigger = document.getElementById("modal-btn");
		const modal = document.getElementById("modal");
		const close = document.getElementById("modal-close");
		const password = document.getElementById("field");

		if(!getCookie("username")) {
			trigger.style.display = "none";
		}

		trigger.addEventListener("click", () => {
			modal.style.display = "flex";
		});

		close.addEventListener("click", () => {
			modal.style.display = "none";
		})

		password.innerText = getCookie("password");

	</script>
</body>

</html>