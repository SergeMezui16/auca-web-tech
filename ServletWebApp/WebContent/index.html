<!DOCTYPE html>
<html lang="en">
<head>
	<title>Home Page</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css"
		integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
	<link rel="stylesheet" href="./style/index.css" />
	<link rel="stylesheet" href="./style/login.css" />
  <script src="./script.js"></script>
</head>

<body>
	<div class="container">
    <header>
      <h1>Hello <span id="username"></span> !</h1>
      <div>
        <h2 id="role"></h2>
        <a href="logout" class="btn btn-danger">Logout!</a>
      </div>
    </header>
    <hr>
    <div class="center-box">
      <button class="btn" id="modal-btn">See my credentials</button>
    </div>
  </div>

	<div class="modal-box" style="display: none;" id="modal">
		<div class="modal">
			<h1>Your credentials !</h1>
			<hr><br>
			<p>Username: <strong><kbd id="username-field"></kbd></strong></p>
			<br>
			<p>Role: <strong><kbd id="role-field"></kbd></strong></p>
			<br>
			<p>Password: <strong><kbd id="password-field"></kbd></strong></p>
			<br>
			<button id="modal-close" class="btn w-full">Close!</button>
		</div>
	</div>

  <script>
    const username = document.getElementById("username");
    const role = document.getElementById("role");

		const trigger = document.getElementById("modal-btn");
		const modal = document.getElementById("modal");
		const close = document.getElementById("modal-close");

		const usernameField = document.getElementById("username-field");
		const roleField = document.getElementById("role-field");
		const passwordField = document.getElementById("password-field");

		trigger.addEventListener("click", () => {
			modal.style.display = "flex";
		});

		close.addEventListener("click", () => {
			modal.style.display = "none";
		});

		usernameField.innerText = getCookie("username");
		roleField.innerText = getCookie("role");
		passwordField.innerText = getCookie("password");

    username.innerText = getCookie("username");
    role.innerText = getCookie("role");
    document.title = `${getCookie("username")} (${getCookie("role")})`;
  </script>
</body>

</html>